# ğŸ” Webç”»åƒæ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ  - å®Ÿè£…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## æ¦‚è¦

å®å¡šæ¼¢å­—å­¦ç¿’ã‚¢ãƒ—ãƒªã«ã€å®Ÿéš›ã®ã‚¿ã‚«ãƒ©ã‚¸ã‚§ãƒ³ãƒŒã®å†™çœŸã‚’è‡ªå‹•æ¤œç´¢ãƒ»å–å¾—ãƒ»è¡¨ç¤ºã™ã‚‹é«˜åº¦ãªç”»åƒæ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚

## ğŸŒŸ ä¸»ãªæ©Ÿèƒ½

### âœ¨ ãƒãƒ«ãƒã‚½ãƒ¼ã‚¹ç”»åƒæ¤œç´¢
- **Unsplash API**: é«˜å“è³ªãªãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«å†™çœŸ
- **Pixabay API**: å¤šæ§˜ãªãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆç”»åƒ
- **Lorem Picsum**: ç¾ã—ã„ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ç”»åƒ
- **Wikimedia Commons**: ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³å®å¡šé–¢é€£ç”»åƒ

### ğŸ¯ ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆæ¤œç´¢æˆ¦ç•¥
```javascript
// åŠ‡å›£å“¡ã”ã¨ã«æœ€é©åŒ–ã•ã‚ŒãŸæ¤œç´¢ã‚¯ã‚¨ãƒªã‚’è‡ªå‹•ç”Ÿæˆ
const queries = [
    `${performer.name} å®å¡šæ­ŒåŠ‡å›£`,      // æ—¥æœ¬èª + æ­£å¼åç§°
    `${performer.name} ã‚¿ã‚«ãƒ©ã‚¸ã‚§ãƒ³ãƒŒ`,   // æ—¥æœ¬èª + æ„›ç§°
    `${performer.name} ${performer.troupe}`, // çµ„åè¾¼ã¿
    `${performer.name} å®å¡š ${performer.era}`, // ç¾å½¹/æ­´ä»£åŒºåˆ¥
    `Takarazuka ${performer.name}`,       // è‹±èªæ¤œç´¢
    performer.name                        // åå‰ã®ã¿
];
```

### ğŸ’¾ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ **: 5åˆ†é–“ã®æ¤œç´¢çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **é‡è¤‡æ¤œç´¢é˜²æ­¢**: åŒä¸€ã‚¯ã‚¨ãƒªã®é‡è¤‡å®Ÿè¡Œã‚’å›é¿
- **éåŒæœŸå‡¦ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æãªã‚ãªã„èƒŒæ™¯å‡¦ç†
- **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡**: 5ç§’ã§ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š

### ğŸ¨ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥
1. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»åƒ**: æ‰‹å‹•ã§åé›†ã—ãŸé«˜å“è³ªç”»åƒ
2. **Webæ¤œç´¢çµæœ**: APIæ¤œç´¢ã§è¦‹ã¤ã‹ã£ãŸç”»åƒ
3. **çµ„åˆ¥ã‚¢ãƒã‚¿ãƒ¼**: çµ„ã®è‰²ã¨eraã«åˆã‚ã›ãŸç¾ã—ã„ã‚¢ãƒã‚¿ãƒ¼
4. **ã‚¨ãƒ©ãƒ¼æ™‚ä»£æ›¿**: æœ€çµ‚çš„ãªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
js/
â”œâ”€â”€ config.js       # ç”»åƒæ¤œç´¢è¨­å®šãƒ»APIè¨­å®š
â”œâ”€â”€ app.js         # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ¤œç´¢æ©Ÿèƒ½çµ±åˆï¼‰
â””â”€â”€ data.js        # åŠ‡å›£å“¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

test_image_search.html  # ç”»åƒæ¤œç´¢æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (`config.js`)
```javascript
const IMAGE_SEARCH_CONFIG = {
    unsplash: {
        enabled: true,
        accessKey: 'demo',
        demoUrls: [/* é«˜å“è³ªãƒ‡ãƒ¢ç”»åƒ */]
    },
    pixabay: {
        enabled: true,
        apiKey: 'demo', 
        demoUrls: [/* ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆç”»åƒ */]
    },
    search: {
        timeout: 5000,
        maxRetries: 3,
        cacheTimeout: 300000
    }
};
```

## ğŸ” æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

### 1. æ¤œç´¢ã‚¯ã‚¨ãƒªç”Ÿæˆ
```javascript
async searchPerformerPhoto(performer) {
    const queries = [
        `${performer.name} å®å¡šæ­ŒåŠ‡å›£`,
        `${performer.name} ã‚¿ã‚«ãƒ©ã‚¸ã‚§ãƒ³ãƒŒ`, 
        `${performer.name} ${performer.troupe}`,
        `Takarazuka ${performer.name}`,
        performer.name
    ];
    
    for (const query of queries) {
        // è¤‡æ•°ã®ã‚½ãƒ¼ã‚¹ã§æ¤œç´¢å®Ÿè¡Œ
        const result = await this.multiSourceSearch(query);
        if (result) return result;
    }
    
    return null; // è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ
}
```

### 2. ãƒãƒ«ãƒã‚½ãƒ¼ã‚¹æ¤œç´¢å®Ÿè¡Œ
```javascript
// Method 1: Unsplashæ¤œç´¢
let photoUrl = await this.searchUnsplashPhoto(query);
if (photoUrl) return photoUrl;

// Method 2: Pixabayæ¤œç´¢  
photoUrl = await this.searchPixabayPhoto(query);
if (photoUrl) return photoUrl;

// Method 3: Lorem Picsumç”Ÿæˆ
photoUrl = await this.searchLoremPicsumPhoto(performer);
if (photoUrl) return photoUrl;

// Method 4: Wikimedia Commonsæ¤œç´¢
photoUrl = await this.searchWikimediaPhoto(query);
if (photoUrl) return photoUrl;
```

### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
```javascript
// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯
const cacheKey = `source_${query}`;
if (IMAGE_SEARCH_CACHE.has(cacheKey)) {
    const cached = IMAGE_SEARCH_CACHE.get(cacheKey);
    if (Date.now() - cached.timestamp < CACHE_TIMEOUT) {
        return cached.url;
    }
}

// æ¤œç´¢å®Ÿè¡Œå¾Œã€çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
IMAGE_SEARCH_CACHE.set(cacheKey, {
    url: resultUrl,
    timestamp: Date.now()
});
```

## ğŸ“¸ ç”»åƒå“è³ªç®¡ç†

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»åƒã‚·ã‚¹ãƒ†ãƒ 
```javascript
const DEFAULT_PERFORMER_IMAGES = {
    // æœˆçµ„
    "é³³æœˆæ": "https://images.unsplash.com/photo-xxx",
    "å¤©æµ·ç¥å¸Œ": "https://images.unsplash.com/photo-yyy",
    
    // èŠ±çµ„  
    "æ°¸ä¹…è¼ã›ã‚": "https://cdn.pixabay.com/photo-zzz",
    "æ˜æ—¥æµ·ã‚ŠãŠ": "https://cdn.pixabay.com/photo-aaa",
    
    // ... ä»–ã®åŠ‡å›£å“¡
};
```

### çµ„åˆ¥ã‚¢ãƒã‚¿ãƒ¼ç”Ÿæˆ
```javascript
generatePerformerAvatar(performer) {
    const seed = performer.name.replace(/\s/g, '-').toLowerCase();
    const bgColorMap = {
        'tsuki': '2c3e50',  // æœˆçµ„: ãƒ€ãƒ¼ã‚¯ãƒ–ãƒ«ãƒ¼
        'hana': 'e74c3c',   // èŠ±çµ„: ãƒ¬ãƒƒãƒ‰
        'yuki': 'bdc3c7',   // é›ªçµ„: ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼  
        'hoshi': '1abc9c',  // æ˜Ÿçµ„: ãƒ†ã‚£ãƒ¼ãƒ«
        'sora': '3498db'    // å®™çµ„: ãƒ–ãƒ«ãƒ¼
    };
    
    const bgColor = bgColorMap[performer.troupeColor] || '95a5a6';
    const hairStyle = performer.era === 'æ­´ä»£' ? 'longHair' : 'shortHair';
    
    return `https://avatars.dicebear.com/api/avataaars/${seed}.svg?background=%23${bgColor}&top[]=${hairStyle}`;
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½

### ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ (`test_image_search.html`)
- **å…¨åŠ‡å›£å“¡ãƒ†ã‚¹ãƒˆ**: 40äººå…¨å“¡ã®ç”»åƒæ¤œç´¢ã‚’å®Ÿè¡Œ
- **å˜ä½“ãƒ†ã‚¹ãƒˆ**: ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠã•ã‚ŒãŸåŠ‡å›£å“¡ã‚’ãƒ†ã‚¹ãƒˆ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬**: æˆåŠŸç‡ã¨æ‰€è¦æ™‚é–“ã‚’æ¸¬å®š
- **ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ç¢ºèª**: æ¤œç´¢çµæœã‚’å³åº§ã«è¡¨ç¤º

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•
```javascript
// å…¨åŠ‡å›£å“¡ãƒ†ã‚¹ãƒˆ
await testAllPerformers();

// å˜ä½“ãƒ†ã‚¹ãƒˆ
await testSinglePerformer();

// çµæœã‚¯ãƒªã‚¢
clearResults();
```

## ğŸ¯ æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ

### 1. æ¤œç´¢åŠ¹ç‡
- **å„ªå…ˆé †ä½ä»˜ãæ¤œç´¢**: æˆåŠŸç‡ã®é«˜ã„ã‚¯ã‚¨ãƒªã‹ã‚‰å®Ÿè¡Œ
- **æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³**: æœ€åˆã«è¦‹ã¤ã‹ã£ãŸçµæœã‚’å³åº§ã«ä½¿ç”¨
- **é‡è¤‡å›é¿**: åŒä¸€æ¤œç´¢ã®é‡è¤‡å®Ÿè¡Œã‚’é˜²æ­¢

### 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“
- **éåŒæœŸå‡¦ç†**: UIã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„æ¤œç´¢å®Ÿè¡Œ
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º**: æ¤œç´¢ä¸­ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- **ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«åŠ£åŒ–**: ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ç¾ã—ã„ã‚¢ãƒã‚¿ãƒ¼ã‚’è¡¨ç¤º

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»è‘—ä½œæ¨©
- **ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³å„ªå…ˆ**: Wikimedia Commonsã®æ´»ç”¨
- **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æº–æ‹ **: Unsplashãƒ»Pixabayã®åˆ©ç”¨è¦ç´„éµå®ˆ
- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: è‘—ä½œæ¨©ãƒ•ãƒªãƒ¼ã®ã‚¢ãƒã‚¿ãƒ¼ç”Ÿæˆ

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

### æœŸå¾…ã•ã‚Œã‚‹çµæœ
- **æ¤œç´¢æˆåŠŸç‡**: 80-90%ï¼ˆå®å¡šé–¢é€£ã‚¯ã‚¨ãƒªï¼‰
- **å¹³å‡æ¤œç´¢æ™‚é–“**: 1-3ç§’
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡**: 60-80%ï¼ˆãƒªãƒ”ãƒ¼ãƒˆåˆ©ç”¨æ™‚ï¼‰
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“**: ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªç”»åƒè¡¨ç¤º

### ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
```javascript
console.log(`${performer.name}ã®å†™çœŸæ¤œç´¢çµæœ:`, {
    success: !!photoUrl,
    source: 'unsplash|pixabay|lorem|wikimedia|avatar',
    duration: searchDuration,
    cached: fromCache
});
```

## ğŸš€ å®Ÿè£…ã®åˆ©ç‚¹

### æ•™è‚²åŠ¹æœã®å‘ä¸Š
- **è¦–è¦šçš„å­¦ç¿’**: å®Ÿéš›ã®åŠ‡å›£å“¡å†™çœŸã§å­¦ç¿’æ„æ¬²å‘ä¸Š
- **å®å¡šæ„›**: ãƒªã‚¢ãƒ«ãªã‚¹ã‚¿ãƒ¼å†™çœŸã§å®å¡šã¸ã®èˆˆå‘³ä¿ƒé€²
- **è¨˜æ†¶å®šç€**: é¡”ã¨åå‰ã®é–¢é€£ä»˜ã‘ã§æ¼¢å­—è¨˜æ†¶å¼·åŒ–

### æŠ€è¡“çš„ãƒ¡ãƒªãƒƒãƒˆ
- **æ‹¡å¼µæ€§**: æ–°ã—ã„ç”»åƒã‚½ãƒ¼ã‚¹ã®è¿½åŠ ãŒå®¹æ˜“
- **ä¿å®ˆæ€§**: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹ä¸€å…ƒç®¡ç†
- **æ€§èƒ½**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ã‚ˆã‚‹é«˜é€Ÿè¡¨ç¤º
- **ä¿¡é ¼æ€§**: å¤šé‡ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ã‚ˆã‚‹é«˜å¯ç”¨æ€§

## ğŸ”§ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

### APIçµ±åˆå¼·åŒ–
- å®Ÿéš›ã®Unsplashãƒ»Pixabay APIã‚­ãƒ¼ã®è¨­å®š
- ã‚ˆã‚Šå¤šãã®ç”»åƒã‚½ãƒ¼ã‚¹ã®è¿½åŠ 
- ç”»è³ªå„ªå…ˆåº¦è¨­å®šã®å®Ÿè£…

### æ¤œç´¢ç²¾åº¦å‘ä¸Š
- æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹æ¤œç´¢ã‚¯ã‚¨ãƒªæœ€é©åŒ–
- é¡”èªè­˜ã«ã‚ˆã‚‹ç”»åƒå“è³ªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚ˆã‚‹å­¦ç¿’æ©Ÿèƒ½

### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½æ‹¡å¼µ
- ãŠæ°—ã«å…¥ã‚ŠåŠ‡å›£å“¡ã®å†™çœŸä¿å­˜
- ã‚«ã‚¹ã‚¿ãƒ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- å†™çœŸã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»å•ã„åˆã‚ã›

ç”»åƒæ¤œç´¢æ©Ÿèƒ½ã«é–¢ã™ã‚‹è³ªå•ã‚„æ”¹å–„ææ¡ˆãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€é–‹ç™ºãƒãƒ¼ãƒ ã¾ã§ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚

**å®Ÿè£…å®Œäº†æ—¥**: 2024å¹´9æœˆ27æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**å¯¾å¿œåŠ‡å›£å“¡æ•°**: 40åï¼ˆç¾å½¹24å + æ­´ä»£16åï¼‰